# 4.5 Formulation and Solution of Mass-Transfer Problems

Throughout the rest of this book, we will solve mass-transfer equations under diverse conditions. A typical goal is to predict the current at a working electrode in response to a programmed stimulus (e.g., a potential step). In the simplest cases, we evaluate the time-dependent current from the flux of the electroreactant, $k$, at the electrode surface using (4.4.21), as discussed just above. To do that, we need $\left[\partial C_{k}(x, t) / \partial x\right]_{x=0}$. This is the slope of the concentration profile for species $k$ at the electrode surface, which is determined from the concentration function, $C_{k}(x, t)$, which is itself the solution of the relevant mass-transfer partial differential equation (PDE) (e.g., Fick's second law). To get the theoretical results that we need, we must be able to solve that PDE. An example of this procedure is computing the time-dependent current at a disk electrode following application of a potential to oxidize or reduce a molecule at the diffusion-limited rate (Section 6.1).

Unfortunately, one frequently does not have the luxury of solving a single mass-transfer PDE for a single participant, because electrode processes involve connections between species. Participants in electrode reactions can be interconverted (e.g., O into R, or vice versa, via the electrode process itself), or can decay into inert products, or can even react with each other in solution. Reaching a mathematical solution for any participant typically requires a simultaneous solution for all participants. We must express a PDE for each participant,
defining its mass transfer and any reaction that it undergoes. ${ }^{10}$ Then, we must solve the full set of PDEs together.

If, for example, one wished to consider a purely diffusive system in which the electrode reaction is $\mathrm{O}+n e \rightleftharpoons \mathrm{R}$ and both O and R influence the behavior (e.g., through reversible kinetics), then two mass-transfer equations (one for each species) would be required to solve for the concentration profile or the current. If the experiment is arranged so that diffusion occurs only in one dimension, ${ }^{11}$ each PDE is the one-dimensional version of (4.4.17):

$$
\begin{equation*}
\frac{\partial C_{\mathrm{O}}(x, t)}{\partial t}=D_{\mathrm{O}} \frac{\partial^{2} C_{\mathrm{O}}(x, t)}{\partial x^{2}} \quad \frac{\partial C_{\mathrm{R}}(x, t)}{\partial t}=D_{\mathrm{R}} \frac{\partial^{2} C_{\mathrm{R}}(x, t)}{\partial x^{2}} \tag{4.5.1a,b}
\end{equation*}
$$

A solution of (4.5.1a and 4.5.1b) requires more than just these two equations, because a mass-transfer PDE is a general relationship that must be placed in the specific context of the experiment under consideration (Sections A.1.1 and A.1.6). This is done by defining mathematical conditions that bind the solution at special points or boundaries in time and space.

## 4.5.1 Initial and Boundary Conditions in Electrochemical Problems

In diffusional PDEs based on Fick's second law, derivatives of concentration are taken with respect to time, $t$, or a spatial coordinate, such as $x$ or $r$. For each derivative on $t$, one must specify an initial condition defining the concentration profile for $t=0$. Likewise, for each derivative on a spatial coordinate, one must specify a boundary condition giving the time dependence of the concentration (or its first derivative) at one of the boundaries of the spatial domain (commonly at the electrode surface or infinitely far away). To solve (4.5.1 a and 4.5.1 b), six conditions would be neededâ€”two initial conditions and four boundary conditions. ${ }^{12}$

### (a) Initial Conditions

For $t=0$, conditions are of the form, $C_{\mathrm{O}}(x, 0)=f(x)$. At the start of most experiments, O and R are uniformly distributed throughout the solution at their bulk concentrations, $C_{\mathrm{O}}^{*}$ and $C_{\mathrm{R}}^{*}$, in which case the initial conditions would be

$$
\begin{equation*}
C_{\mathrm{O}}(x, 0)=C_{\mathrm{O}}^{*} \quad C_{\mathrm{R}}(x, 0)=C_{\mathrm{R}}^{*} \tag{4.5.2a,b}
\end{equation*}
$$

### (b) Semi-infinite Boundary Conditions

An electrolysis cell is usually large compared to the length scale of diffusion; hence, the electrolyte at the walls of the cell (indeed, practically all of the electrolyte) remains unaltered by the process at the electrode (Section 6.1.1). One can normally assume that, at large distances from the electrode, the concentration reaches the bulk value:

$$
\begin{equation*}
\lim _{x \rightarrow \infty} C_{\mathrm{O}}(x, t)=C_{\mathrm{O}}^{*} \quad \lim _{x \rightarrow \infty} C_{\mathrm{R}}(x, t)=C_{\mathrm{R}}^{*} \tag{4.5.3a,b}
\end{equation*}
$$

These are known as semi-infinite conditions.
For thin-layer electrochemical cells (Section 12.6), where the cell wall is at a distance, $l$, on the order of the diffusion length, one must use boundary conditions at $x=l$ instead of those for $x \rightarrow \infty$.

[^7]
### (c) Boundary Conditions at the Electrode Surface

The conservation of matter in an electrode reaction must also be recognized. When O is converted to R at the electrode, and both O and R are soluble in the solution phase, then for each O that undergoes electron transfer at the electrode, an R must be produced. Thus, $J_{\mathrm{O}}(0, t)=-J_{\mathrm{R}}(0, t)$, and

$$
\begin{equation*}
D_{\mathrm{O}}\left[\frac{\partial C_{\mathrm{O}}(x, t)}{\partial x}\right]_{x=0}+D_{\mathrm{R}}\left[\frac{\partial C_{\mathrm{R}}(x, t)}{\partial x}\right]_{x=0}=0 \tag{4.5.4}
\end{equation*}
$$

This condition is called the flux balance.
Additional boundary conditions usually relate to concentrations or concentration gradients at the electrode surface. For example, if the potential is controlled in an experiment, one might have

$$
\begin{equation*}
C_{\mathrm{O}}(0, t)=f(E) \tag{4.5.5}
\end{equation*}
$$

or

$$
\begin{equation*}
\frac{C_{\mathrm{O}}(0, t)}{C_{\mathrm{R}}(0, t)}=f(E) \tag{4.5.6}
\end{equation*}
$$

where $f(E)$ is some function of the electrode potential derived from the general currentpotential characteristic or one of its special cases (e.g., the Nernst equation). Since $E$ is often a function of time (as in the case of a potential sweep), $f(E)$ might also be time-dependent.

If the current is the controlled quantity, the corresponding boundary condition is expressed in terms of the flux at $x=0$; for example,

$$
\begin{equation*}
-J_{\mathrm{O}}(0, t)=\frac{i}{n F A}=D_{\mathrm{O}}\left[\frac{\partial C_{\mathrm{O}}(x, t)}{\partial x}\right]_{x=0}=f(t) \tag{4.5.7}
\end{equation*}
$$

## 4.5.2 General Formulation of a Linear Diffusion Problem

Many mass-transfer problems encountered in this book have a common foundation:

- The electrode process, $\mathrm{O}+n e \rightleftharpoons \mathrm{R}$, occurs at a planar electrode in a quiescent, initially homogeneous, solution where linear diffusion applies.
- Both O and R are chemically stable and are soluble in the solution.
- A supporting electrolyte is present in great excess relative to $C_{\mathrm{O}}^{*}$ and $C_{\mathrm{R}}^{*}$.

The mass-transfer problem requires Fick's second law for both O and R , (4.5.1a and 4.5.1b). Of the six conditions required to solve these PDEs, five are common to nearly every problem:

- The two initial conditions, (4.5.2a and 4.5.2b).
- The two semi-infinite conditions, (4.5.3a and 4.5.3b)
- The flux balance, (4.5.4).

For easy later reference throughout this book, we give a specific name to this specific set of PDEs, initial conditions, and boundary conditions: the general formulation.

For a special case in which either O or R is absent from the bulk, the general formulation still applies. One need only recognize that $C_{\mathrm{R}}^{*}=0$ or $C_{\mathrm{O}}^{*}=0$ in (4.5.2 $a$ and 4.5.2b) or (4.5.3a and 4.5.3b).

To achieve a solution for any problem built on the general formulation, we must add an eighth equation-a final boundary condition-conveying the type of experiment being treated and the nature of the electrode kinetics. It defines the specific problem at hand and might have the form of (4.5.5), (4.5.6), or (4.5.7).

## 4.5.3 Systems Involving Migration or Convection

In systems where added electrolyte is not in great excess vs. the concentrations of electroactive species, or where convection exists, diffusion is not the only important mode of mass transfer. Migration or convection, or both, must be included in the mass-transfer PDE written out for each participant at the beginning of the problem.

A starting point is to define the modified Nernst-Planck equation applicable to the system, using the principles of Section 4.1. One must choose the form appropriate to the geometry of the system, then one must include the terms relevant to the system, with the diffusion term always being relevant. Suppose, for example, that one is working with a system of linear diffusion at a planar electrode in an unstirred solution with no added electrolyte beyond the electroactive species themselves (Section 5.7). The Nernst-Planck equation applies

$$
\begin{equation*}
J_{j}(x, t)=-D_{j} \frac{\partial C_{j}(x, t)}{\partial x}-\frac{z_{j} F}{R T} D_{j} C_{j}(x, t) \frac{\partial \phi(x, t)}{\partial x} \tag{4.5.8}
\end{equation*}
$$

which is (4.1.9) with only the terms for diffusion and migration retained, and with time recognized explicitly as a variable.

A Nernst-Planck equation defines the flux of a species and has a role like that of Fick's first law for purely diffusional problems. To address mass-transfer problems in which the spatial profiles of concentration and electrical potential are needed, one requires an analogue to Fick's second law. It can always be derived from the modified Nernst-Planck equation using the approach of Section 4.4.2. For a linear mass-transfer system, the general result from (4.4.13) to (4.4.14) is

$$
\begin{equation*}
\frac{\partial C_{j}(x, t)}{\partial t}=-\frac{\partial J_{j}(x, t)}{\partial x} \tag{4.5.9}
\end{equation*}
$$

thus, for the example leading to (4.5.8), one has

$$
\begin{equation*}
\frac{\partial C_{j}(x, t)}{\partial t}=\frac{\partial}{\partial x}\left[D_{j} \frac{\partial C_{j}(x, t)}{\partial x}+\frac{z_{j} F}{R T} D_{j} C_{j}(x, t) \frac{\partial \phi(x, t)}{\partial x}\right] \tag{4.5.10}
\end{equation*}
$$

This is the mass-transfer PDE that would be written at the beginning of the problem for each participant (e.g., for O and R).

Real problems involving migration or convection are treated in Section 5.7 and Chapter 10.

## 4.5.4 Practical Means for Reaching Solutions

After a problem is formulated by laying out the mass-transfer PDEs and a full set of initial and boundary conditions, it must be solved. There are three general ways to achieve results:

### (a) Analytical Solution

In simplified circumstances, one can work through the mathematics of a problem to reach a closed-form or series solution. A large fraction of the historical theory underlying electrochemistry has come from analytical treatments of simplified systems, many of which we will encounter in the chapters to come. The following simplifications are common:

- The electrode geometry is often defined as planar or spherical, so that mass transfer remains one dimensional.
- Convection and migration are suppressed in ways that we have already noted.
- Timescales are restricted to avoid chemical or mass-transfer complications that might develop at longer times (e.g., chemical decay of the initial electroproduct or the onset of natural convection).
- Kinetics are limited to simple cases, both for the electrode process and for any coupled process in solution.

Appendix A introduces the Laplace transform method, which has been widely applied to mass-transfer problems. In Section A.1.6, this method is used to extend the general formulation, yielding broadly applicable results that we will often employ in later chapters as starting points for specific problems. The reader may wish to examine that section now.

A special class of problem is the steady state, which is of practical interest for ultramicroelectrodes (Chapter 5) or convective systems (Chapter 10). Since $\partial C_{j} / \partial t=0$ at steady state, Fick's second law for species $j$ becomes Laplace's equation

$$
\begin{equation*}
\nabla^{2} C_{j}=0 \tag{4.5.11}
\end{equation*}
$$

Initial conditions are no longer needed for a solution, because time is not a variable. Closed-form solutions can sometimes be achieved for systems in which transient behavior cannot be described simply.

Solutions to mass-transfer problems can occasionally be found by searching the literature for analogous problems. For example, the conduction of heat involves PDEs of the same form as the diffusion equation (28, 29):

$$
\begin{equation*}
\partial T / \partial t=\alpha \nabla^{2} T \tag{4.5.12}
\end{equation*}
$$

where $T$ is the temperature, and $\alpha$ is the thermal diffusivity ( $\alpha=\kappa / \rho s$, in which $\kappa=$ thermal conductivity, $\rho=$ density, and $s=$ specific heat). If one can find the solution of a problem of interest in terms of the temperature distribution or heat flux, one can easily transpose the results to give concentration profiles and currents.

Electrical analogues also exist. For example, the steady-state diffusion equation, (4.5.11), is of the same form as that for the electric potential distribution in a region of space,

$$
\begin{equation*}
\nabla^{2} \phi=0 \tag{4.5.13}
\end{equation*}
$$

If one can solve an electrical problem in terms of the current density, $j$, where

$$
\begin{equation*}
j=-\kappa \nabla \phi \tag{4.5.14}
\end{equation*}
$$

(with $\kappa$ as the conductivity), one can write the solution to an analogous diffusion problem (in terms of the function $C_{\mathrm{O}}$ ) and find the flux from (4.4.9) or from the more general form,

$$
\begin{equation*}
J=-D_{\mathrm{O}} \nabla C_{\mathrm{O}} \tag{4.5.15}
\end{equation*}
$$

This approach has been employed, for example, in determining the steady-state uncompensated resistance at a UME (30) and the solution resistance between an ion-selective electrode tip and a surface in a scanning electrochemical microscope (31, 32).

It also is sometimes possible to model the mass transport and kinetics in an electrochemical system by a network of electrical components (33, 34). Since computer applications (e.g., SPICE) exist for the analysis of electrical circuits, this approach can be convenient for certain electrochemical problems.

### (b) Electrochemical Simulators

More complicated mass-transfer problems, often involving complex kinetics, lie beyond the reach of analytical solution. Many such cases have been addressed by digital simulation. In this approach, a numeric model of the system is constructed, and it evolves through computational iterations manifesting each relevant physical and chemical process.

Feldberg (35) introduced simulation into electrochemistry using the finite-difference approach described in Appendix B. The coverage there is detailed enough to enable the reader to construct and experiment with finite-difference simulators (an activity recommended
for improving one's grasp of electrochemical dynamics). Much primary literature has come from investigators who created their own software essentially as described in Appendix B. Digital simulation of this kind can be effective (a) for fairly complex kinetics (at the electrode or in solution), (b) for the treatment of convection or migration in systems of simple geometry, and (c) for multielectrode systems of simple geometry.

Such modeling is now carried out largely with commercial electrochemical simulators. These packages all involve the creation of numeric models, but they employ more sophisticated computational approaches than the explicit simulation method discussed in Appendix B. All accommodate mechanistic versatility. The user defines the electrode reaction mechanism, as well as the geometry and experimental mode to be simulated. The mechanism is entered using chemical notation. All also permit comparisons of computational and experimental results. In earlier generations, these simulators were confined with respect to experimental mode (e.g., to cyclic voltammetry alone), geometry (only planar or spherical electrodes), and complexity of mechanism. In later generations, they have become capable of treating additional experimental modes, more complex geometries, multielectrode systems, and rather complex electrode processes, even including adsorbed species.

### (c) General Simulator/Solvers

The most versatile approach to the treatment of electrochemical systems is to employ a general modeling package, such as COMSOL Multiphysics ${ }^{(1)}$. This kind of application uses finite-element simulations and other numerical methods to solve systems of simultaneous partial differential equations under defined initial and boundary conditions. It allows those equations to be drawn from many physical domains, including mechanics, mass transfer, hydrodynamics, and electrodynamics. Accordingly, the package can address a broad range of scientific and engineering problems, including many from electrochemistry. Complex kinetics, complex mass-transfer, irregular electrode shapes, and multielectrode arrays can all be accommodated effectively. Moreover, these applications can solve for functions such as the spatial variation of electric potential or the hydrodynamic velocity distribution that might be important to an electrochemical problem, but lie beyond the scope of an electrochemical simulator.